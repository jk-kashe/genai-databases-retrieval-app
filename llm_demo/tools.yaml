sources:
  my-pg-instance:
    kind: cloud-sql-postgres
    project: retrieval-app-testing
    region: us-central1
    instance: my-cloudsql-pg-instance
    database: assistantdemo
    user: postgres
    password: postgres
tools:
  search_airport:
    kind: cloud-sql-postgres-generic
    source: my-pg-instance
    description: |
      Use this tool to list all airports matching search criteria.
      Takes a country and a city and returns all matching airports.
      The agent can decide to return the results directly to the user.
      Input of this tool must be in JSON format and include both inputs - country and city.
      Example:
      {{
          "country": "United States",
          "city": "San Francisco",
      }}
    statement: |
      SELECT * FROM airports
      WHERE country ILIKE $1
      AND city ILIKE $2
      LIMIT 10
    parameters:
      - name: country
        type: string
        description: Country
      - name: city
        type: string
        description: City
toolsets:
  airport_toolset:
    - search_airport
